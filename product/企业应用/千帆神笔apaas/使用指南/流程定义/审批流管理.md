以下视频为您介绍如何配置审批流：
<div class="doc-video-mod"><iframe src="https://cloud.tencent.com/edu/learning/quick-play/3565-61850?source=gw.doc.media&withPoster=1&notip=1"></iframe></div>

## 操作场景

审批流是一种包含“审批节点”的流程，用户通过审批流，可以完成多种审批场景，例如：请假、报销等。

本文以某公司新建一个请假审批流程为例进行说明，申请人需要填写请假开始时间、请假结束时间、请假事由、请假类型等信息，主线流程为：审批人提交申请 > 组长审批 > HR 审批 > 流程结束，如果请假天数小于等于3天，则不需要 HR 审批。



## 操作步骤

### 新建审批流

1. 登录 [千帆神笔aPaaS 设计态首页](https://apaas.cloud.tencent.com/)，在首页单击**对象建模**。
2. 在对象建模页面，单击左侧对象列表的 <b>新建对象</b>，新建“请假信息”对象。
![](https://qcloudimg.tencent-cloud.cn/raw/af6afe249acb4fcc6215503048f3ba51.png)
3. 在**页面设计**页，单击左侧**+页面**，在新建页面中单击**新建审批流程页面**。
![](https://qcloudimg.tencent-cloud.cn/raw/d70b13e361f59cb014be706dda344e01.png)
4. 填写页面名称为“请假申请”，单击**确定**，进入请假申请配置页面。
![](https://qcloudimg.tencent-cloud.cn/raw/0d2382a7c35dc267bef668113212db02.png)
5. 配置请假申请页面，该页面是审批发起人填写请假信息的页面，添加表单组件，表单数据属性中，配置数据源上下文选择对象为：请假信息。![img](https://qcloudimg.tencent-cloud.cn/raw/9e8644d7438ceeb43a24e02133cec52f.png)
6. 参考步骤3 - 5，配置请假审批页面，该页面是审批人进行审批时使用到的页面，添加表单组件，表单数据属性中，配置数据源上下文选择对象为：请假信息。![img](https://qcloudimg.tencent-cloud.cn/raw/2c646f96ef49ae49f40d826fce8b0e5c.png)
7. 在流程编排页，单击左侧流程建模的**新建流程**，新建流程名称为“请假流程”的审批流。 ![img](https://qcloudimg.tencent-cloud.cn/raw/55bb5dd367d2394bf71224b544ac8eb0.png)
8. 添加请假申请提交节点。从左侧元素栏中拖出"审批节点"至画布中，如图进行配置。该节点是审批发起人填写请假信息的节点，因此“是否为审批开始节点”项选择“是”。一个审批流中只能有一个审批开始节点。
![](https://qcloudimg.tencent-cloud.cn/raw/63c86010350741b6e0a0be597c424771.png)
设置页面输出变量，此处将提交的申请信息保存到变量 leave 中。
![](https://qcloudimg.tencent-cloud.cn/raw/c6864fdb989226e634b8f0b67cb6356d.png)
9. 添加组长审批节点。从右侧元素栏中拖出“组长审批”至画布中，如图进行配置。该节点是审批人进行审批的节点，因此“是否为审批开始节点”项选择“否”。一个审批流中可以有多个非审批开始节点。
![](https://qcloudimg.tencent-cloud.cn/raw/66ebf0938c397cddc3ba49c7993f545e.png)
	- 设置页面输入变量，将上一节点保存的申请信息作为该节点页面的输入：
	![](https://qcloudimg.tencent-cloud.cn/raw/ac2434783b56158852dc20fac8c23b48.png)
	- 设置页面输出变量，将该节点提交的申请信息保存到变量 leave_zz 中。
	![](https://qcloudimg.tencent-cloud.cn/raw/3475ede87bcae265bfe91f9845183e35.png)
10. 添加 HR 审批节点。从右侧元素栏中拖出“HR 审批”至画布中，如图进行配置。
![](https://qcloudimg.tencent-cloud.cn/raw/f2a2b6fc256ee6dfa52a8e1a3bfa68d6.png)
	- 设置页面输入变量：
![](https://qcloudimg.tencent-cloud.cn/raw/913783882548ff925257b4c216d76f55.png)
	- 设置页面输出变量：
![](https://qcloudimg.tencent-cloud.cn/raw/3bdd09e56ff0866adb1fa3df2102f2fb.png)
11. 根据请假天数判定是否需要 HR 审批。从右侧元素栏中拖出“排他网关”至画布中，配置网关分支条件，如图所示。
![](https://qcloudimg.tencent-cloud.cn/raw/3caa420a0ff19fc6c9b3bb3ab68d09c0.png)

### 审批流运行效果

1. 登录 [千帆神笔 aPaaS 运行态首页](https://apaas.cloud.tencent.com/)，进入“流程中心”，点击"发起流程"，并选择请假流程，进入请假流程申请页面。
![](https://qcloudimg.tencent-cloud.cn/raw/1222433d4211a5ce4e9f2bbf899b4350.png)
输入相关请假开始、结束等信息，单击**提交申请**。
![](https://qcloudimg.tencent-cloud.cn/raw/b5bcd936a8d53cd4a36ee96e5787b6b4.png)
2. 组长进入“流程中心”页签，在“待我处理”页进行审批。点击审批按钮（同意/拒绝）如果组长审批通过，则会进入下一个审批节点，如果组长拒绝，则流程结束，也可以点击流程进入审批详情页进行审批。
![](https://qcloudimg.tencent-cloud.cn/raw/2d44a6790a827178057100ae27618ae1.png)
可进行流程抄送、转办、回退等。
![](https://qcloudimg.tencent-cloud.cn/raw/736ca281947b7036a79a82e65ed7afb6.png)
3. 如果请假天数大于 3 天，则还需要 HR 进入“流程中心”页签的“待我处理”页进行审批。
![](https://qcloudimg.tencent-cloud.cn/raw/a7953a8157575962e78f8eef7a80b547.png)
审批记录如下：
![](https://qcloudimg.tencent-cloud.cn/raw/30ab9090c109227ac8c1fe74e1624ea4.png)
4. 在“流程实例管理”里面可以看到相关流程的审批进度、时间、状态和操作等，更好的管理整个审批的流程。
![](https://qcloudimg.tencent-cloud.cn/raw/8bb5370f009528a669ce230e19d835af.png)




### 属性设置
单击各“流程管理”的属性设置，可以自定义修改流程名称、流程唯一标识以及对标题的自定义设置，同时可以通过表达式来对标题进行自定义设置。
![](https://qcloudimg.tencent-cloud.cn/raw/d7c696f74835c5b90e0073a6c87ef444.png)


#### 属性说明：

| 属性               | 说明                                                                                                                                                                                                                                                                                                                                                            |
| ------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 节点名称           | 节点在画布中的名称。                                                                                                                                                                                                                                                                                                                                            |
| 是否为审批开始节点 | 通用的审批流程，基本都会存在两种页面：<li>发起人提交信息的提交页面（审批开始节点），例如：员工填写的请假单里信息，由员工提交。</li><li>审核人进行内容审核的页面（非审批开始节点），例如：组长看到员工的请假单信息，组长可以单击**同意**或者**拒绝**，填写审批意见。</li>                                                                            |
| 分支               | 审批开始节点只有一个提交分支，可自行定义分支名称。                                                                                                                                                                                                                                                                                                              |
| 审批页面           | 下拉选择一个“审批流程页面”。                                                                                                                                                                                                                                                                                                                                    |
| 设置页面变量       | 可设置页面输入变量和页面输出变量。                                                                                                                                                                                                                                                                                                                              |
| 分支               | 非开始审批节点后会有两个分支：通过分支和拒绝分支，可自行定义分支名称。                                                                                                                                                                                                                                                                                          |
| 审批任务接收人     | 指当前审批节点由谁审批，目前支持角色、用户、指定人、表达式四种类型的接收人。                                                                                                                                                                                                                                                                                    |
| 审批页面           | 下拉选择一个“审批流程页面”。                                                                                                                                                                                                                                                                                                                                    |
| 设置页面变量       | 可设置页面输入变量和页面输出变量。<li>页面输入变量：从流程到页面的变量，可以将流程中的数据在页面表单里展示。</li><li>页面输出变量：从页面到流程的变量，可以将页面上的表单数据保存成流程变量。</li>                                                                                                                                                  |
| 审批策略           | 目前支持任签、会签两种策略。<br /><li>任签：指只要指定的审批任务接收人只要有任何一个人审批通过或拒绝，则流程流向下一个节点。</li><li>会签：指只要指定的审批任务接收人必须都审批通过，则流程流向下一个节点。</li>                                                                                                                                          |
| 更多设置           | 目前支持抄送、转办、加签、撤销、回退五种设置：<li>抄送：审批人"同意"某一流程节点时，可将该审批节点抄送给其他用户。</li><li>转办：审批人可将当前审批节点转接给其他用户审批。</li><li>加签：审批人可添加当前流程节点审批人。</li><li>撤销：流程发起人可撤回未处理或未结束的流程。</li><li>回退：当前审批流程回退到上一流程节点。</li> |
| 消息设置           | 目前支持流程待办送达、流程处理结果两种消息设置<li>流程待办送达消息：流程提交或流转时，自动发送审批待办消息给流程审批人。</li><li>流程处理结果消息：流程审批结束后，自动发送审批处理结果消息给流程发起人。</li>                                                                                                                                      |







