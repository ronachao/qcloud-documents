## 操作场景

容器实例 EKSCI 支持为实例绑定角色，赋予该实例与该角色相应的权限，适用于您需要通过容器实例访问其他腾讯云服务的场景（例如，上传日志到 CLS、修改 CLS topic 权限），本文主要介绍如何为容器实例绑定一个角色进行授权。

以下步骤以容器实例需要上传日志到日志服务 CLS 的场景为例。当用户需要采集容器实例的日志到 CLS 时，除了配置日志集、日志主题及采集路径，还需要为容器实例绑定一个具备访问 CLS 服务权限的角色，具体操作如下：


## 操作步骤

绑定角色需要在创建容器实例时进行，步骤如下：
1. 登录 [容器实例控制台]()，进入弹性容器实例页面。
2. 单击新建实例。如下图所示：
![](https://main.qcloudimg.com/raw/4e76f7ed424a9e8ca35af5d77f295fe5.png)
2. 根据实际需求，设置容器实例的参数，具体请参见 [创建容器实例](https://cloud-doc.isd.com/document/product/457/57341#step2)。完成后，单击下一步。
3. 由于本次操作是以日志采集为例，因此需要开启日志采集并配置相关参数，详情请参见 [日志采集]()。若为其他场景，请忽略此步骤，进行下一步。
4. 在绑定角色参数项中选择提前创建的角色，并完成绑定。
  ![](https://main.qcloudimg.com/raw/aa5a017288262c551d6672a8241093fa.png)
若无合适的角色，请单击【新建CAM角色】。具体操作步骤请参见下文：

#### 新建策略

在新建角色之前，您需要创建一个策略，该策略决定了您的角色具备哪些权限。
1. 登录访问管理控制台，在左侧导航栏选择【[策略](https://console.cloud.tencent.com/cam/policy)】。
2. 在“策略”页面，单击【新建自定义策略】。
3. 在“选择创建策略方式” 弹窗中，选择【按策略生成器创建】。
4. 选择所需要授权给实例的权限，这个以开启日志采集为例，选择 “cls:pushLog” 读操作，单击【下一步】。
5. 确认策略名称，单击【完成】。

#### 新建角色

创建策略完成后，需要将该策略绑定至一个角色，使得该角色具备策略相应的权限。一个角色可以绑定多个策略，您可根据需求配置多个策略绑定到一个角色，并随时解绑。

1. 登录访问管理控制台，在左侧导航栏选择【[角色](https://console.cloud.tencent.com/cam/role)】。
2. 在“角色”页面，单击【新建角色】。
3. 在“选择角色载体” 弹窗中，选择【腾讯云产品服务】，进入【新建自定义角色】页面。
4. 在“输入角色载体信息”步骤中，选择**绑定【云服务器（cvm）】载体**，单击【下一步】。
5. 在“配置角色策略”步骤中，选择上一步中新建的策略名称，单击【下一步】。
6. 在“审阅”步骤中，输入您的角色名称，审阅您即将创建角色的相关信息，单击【完成】后即完成自定义角色创建。详情请参见 [创建角色](https://cloud.tencent.com/document/product/598/19381)。
  >!必须选择**【云服务器（cvm）】作为角色载体**，选择其他载体则无法完成授权。
7. 创建合适的角色之后，在第4步中选择该角色。
8. 单击【下一步】进行配置确认，完成实例创建。此时可到 [CLS 检索分析页面](https://console.cloud.tencent.com/cls/search?region=ap-guangzhou&logset_id=3d580221-0bda-4d9f-9d46-d4b129e35ee5&topic_id=4aaf5555-060a-453f-9804-0587e050e75e)，选择之前配置的日志集及日志主题，查看日志是否正常上传，即可验证该角色是否正常绑定。
