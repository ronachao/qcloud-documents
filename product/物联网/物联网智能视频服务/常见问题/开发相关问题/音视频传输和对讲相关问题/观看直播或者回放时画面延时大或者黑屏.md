
## 详细描述

在小程序或者 APP 端, 观看设备的直播时, 画面延时大或者黑屏;

## 原因分析
 
- 画面延时大, 一般是音视频帧的 PTS 出现异常导致的, IoT Video SDK 要求送入的音视频帧 PTS 单位必须是毫秒, 如果配置的单位不是毫秒, 则会在观看时出现异常;
- 画面延时大, 还有可能是设备端缓存的音视频数据太多, 需要用户检查业务中缓存的数据是否太多;
- 画面延时大, 还可能是播放器缓存的音视频数据太多, 多半伴有音视频 PTS 的同步问题, 需要在 APP 端或者小程序端检查音视频帧 PTS 中差值是否太大;
- 黑屏一般也是 PTS 出现问题, 最常见的是 PTS 出现了回环, 不是单调递增的, 导致播放出现问题;

## 解决办法

- 如果是 PTS 问题, 需要设备端用户检查送入的音视频帧PTS配置是否有问题, 设备端 IoT Video SDK 在发送时不会做对音视频帧做同步缓存或者修改其 PTS;
- 如果是设备端缓存数据多引起的问题, 则需要用户检查自己的业务逻辑问题, 设备端 IoT Video SDK 只会因为网络延迟大的原因缓存数据, 其他则不会缓存;
- 还有一种场景是, 有些摄像头设备带有 PTZ 功能, 在转动时为了滤除马达的声音, 不发送音频而是等待设备静止后发送, 这样也会破坏PTS的连续性, 造成延时很大, 推荐采用发送静音帧的方式来解决该问题;
